<!DOCTYPE html>
<html>
<head>
  <title>AskSam Automation â€“ Test Runs</title>
  <style>
    body { margin: 0; font-family: Arial; display: flex; height: 100vh; }
    .sidebar { width: 300px; border-right: 1px solid #ddd; padding: 10px; overflow-y: auto; }
    .sidebar h3 { margin-top: 0; }
    .run { padding: 8px; cursor: pointer; border-radius: 4px; }
    .run:hover { background: #f0f0f0; }
    iframe { flex: 1; border: none; }
    .error { color: red; }
  </style>
</head>
<body>

<div class="sidebar">
  <h3>ğŸ§ª Test Runs</h3>
  <div id="runs">Loadingâ€¦</div>
</div>

<iframe id="viewer"></iframe>

<script>
fetch('runs/index.json')
  .then(res => res.json())
  .then(runs => {
    const container = document.getElementById('runs');
    container.innerHTML = '';
    runs.forEach(run => {
      const div = document.createElement('div');
      div.className = 'run';
      div.innerText = `${run.date} â€” ${run.run}`;
      div.onclick = () => {
        document.getElementById('viewer').src = run.url;
      };
      container.appendChild(div);
    });
  })
  .catch(() => {
    document.getElementById('runs').innerHTML =
      '<div class="error">âŒ Failed to load runs</div>';
  });
</script>

</body>
</html>